<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
    <link rel="stylesheet" href="stylesheets/index.css">
</head>
<body>
<div class="top">
    <a href="shouye"><%=s01%></a>
    <a href="ziye01" ><%=s02%></a>
    <a href="ziye02" ><%=s03%></a>
</div>
<div class="section_one">
    <div class="section_one_head">
        <img src="images/logo.png" alt="">
        <div class="section_one_con">
            <img src="images/red_con.png" alt="">
            <div class="aDiv">
                <a>现场投简历数<span>3,120</span></a>
                <a>现场签约数<span>928</span></a>
            </div>
        </div>
        <img src="images/yh.png" alt="">
    </div>
    <div class="section_one_bot">
        <div class="bot_left">
            <div class="a1">
                <p>招聘会排期<span>排期表</span></p>
                <div class="titDiv">
                    <div class="tit_left">
                        <a class="sCls"><span>进行中</span><i></i><img src="images/y01.png" alt=""></a>
                        <a class="sCls"><span>进行中</span><i></i><img src="images/y01.png" alt=""></a>
                        <a class="spanCls"><span>12-21</span><i></i><img src="images/y01.png" alt=""></a>
                        <a class="spanCls"><span>12-20</span><i></i><img src="images/y02.png" alt=""></a>
                        <a class="spanCls"><span>12-19</span><i></i><img src="images/y02.png" alt=""></a>
                        <a class="spanCls"><span>12-18</span><i></i><img src="images/y02.png" alt=""></a>
                    </div>
                    <div class="tit_right">
                        <p>暨南大学2018届毕业生 网络专场招聘会</p>
                        <p>广州现代信息工程职业技术学院2017毕业生网络招聘会</p>
                        <p>广州科技职业技术学院2017年实习生、毕业生网络招聘会</p>
                        <p>广西科技大学麓山学院2017年校园招聘会</p>
                        <p>暨南大学2018届毕业生 网络专场招聘会</p>
                        <p>广州现代信息工程职业技术学院2017毕业生网络招聘会</p>
                    </div>

                </div>
            </div>
            <div class="a2" id="main02">

            </div>
        </div>
        <div class="a5" id="main05">

        </div>
        <div class="bot_right">
            <div class="a3" id="main03">

            </div>
            <div class="a4" id="main04">

            </div>
        </div>
    </div>
</div>
</body>
</html>

<script src="javascripts/echarts.min.js"></script>
<script src="javascripts/china.js"></script>
<script type="text/javascript">

    //柱状图
    var myChart02 = echarts.init(document.getElementById('main02'));
    var myData = ['2014', '2015', '2016', '2017', '2018'];
    var option02 = {
        baseOption: {
            title: {
                text: '企业学生数',
                textStyle: {//主标题文本样式{"fontSize": 18,"fontWeight": "bolder","color": "#333"}
                    fontSize: 15,
                    fontWeight: 'normal',
                    color:"#d9b956"
                }
            },
            legend:{
                top:10,
                itemWidth: 10,
                itemHeight: 10,
                data:["企业","学生"],
                textStyle: {//主标题文本样式{"fontSize": 18,"fontWeight": "bolder","color": "#333"}
                    fontSize: 10,
                    color:"#c5c7d4"
                }
            },
            tooltip: {
                show: true,
                trigger: 'axis',
                formatter: '{b}<br/>{a}: {c}人',
                axisPointer: {
                    type: 'shadow',
                }
            },
            grid: [{
                show: false,
                left: '4%',
                top: 60,
                bottom: 60,
                containLabel: true,
                width: '46%',
            }, {
                show: false,
                left: '50.5%',
                top: 80,
                bottom: 60,
                width: '0%',
            }, {
                show: false,
                right: '4%',
                top: 60,
                bottom: 60,
                containLabel: true,
                width: '46%',
            }, ],
            xAxis: [
                {
                    type: 'value',
                    inverse: true,
                    axisLine: {
                        show: false,
                    },
                    axisTick: {
                        show: false,
                    },
                    position: 'bottom',
                    axisLabel: {
                        show: false
                    },
                    splitLine: {
                        show: false
                    },
                }, {
                    gridIndex: 1,
                    show: false,
                }, {
                    gridIndex: 2,
                    type: 'value',
                    axisLine: {
                        show: false,
                    },
                    axisTick: {
                        show: false,
                    },
                    position: 'bottom',
                    axisLabel: {
                        show: false
                    },
                    splitLine: {
                        show: false
                    },
                }, ],
            yAxis: [{
                type: 'category',
                inverse: true,
                position: 'left',
                axisLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLabel: {
                    show: true,
                    margin: 8,
                    textStyle: {
                        color: '#c5c7d4',
                        fontSize: 10,
                    },
                },
                data: myData,
            }, {
                gridIndex: 1,
                type: 'category',
                inverse: false,
                position: 'right',
                axisLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLabel: {
                    show: false
                },
            }, {
                gridIndex: 2,
                type: 'category',
                inverse: true,
                position: 'right',
                axisLine: {
                    show: true,
                    lineStyle: {
                        color: '#46497c',
                    }
                },
                axisTick: {
                    show: true
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#c5c7d4',
                        fontSize: 10,
                    },

                },
                data: myData,
            }, ],
            series: [{
                name: '企业',
                type: 'bar',
                barGap: 20,
                barWidth: 10,
                label: {
                    normal: {
                        show: false,
                    },
                    emphasis: {
                        show: false,
                        position: 'left',
                        offset: [0, 0],
                        textStyle: {
                            color: '#fff',
                            fontSize: 10,
                        },
                    },
                },
                itemStyle: {
                    normal: {
                        color: '#8e7da9',
                    },
                    emphasis: {
                        color: '#ceb4f7',
                    },
                },
                data: [389, 259, 262, 324, 232],
            },
                {
                    name: '学生',
                    type: 'bar',
                    barGap: 20,
                    barWidth: 10,
                    xAxisIndex: 2,
                    yAxisIndex: 2,
                    label: {
                        normal: {
                            show: false,
                        },
                        emphasis: {
                            show: true,
                            position: 'right',
                            offset: [0, 0],
                            textStyle: {
                                color: '#fff',
                                fontSize: 10,
                            },
                        },
                    },
                    itemStyle: {
                        normal: {
                            color: '#6575b2',
                        },
                        emphasis: {
                            color: '#8298ec',
                        },
                    },
                    data: [389, 259, 262, 324, 232],
                }]
        },
    };
    myChart02.setOption(option02);



    // 地图
    var myChart05 = echarts.init(document.getElementById('main05'));
    // 只是不同颜色
    var mapData = {
        num: [10, 15], // 每次出现球的个数范围： 最小6 最大10
        mapColor: '#0d1544', //地图填充颜色
        borderColor: '#1538c6', //地图边框颜色
        shadowColor: '#5174a4', //阴影颜色
        // shadowBlur: 2, //地图阴影
        setIntervalTime: 2000, //默认刷新时间3秒
    }
    ////0-8 慢 9-15 快 16-22特快
    var data = [
        {
            name: '库尔勒',
            value: 86
        },
        {
            name: '拉萨',
            value: 120
        },
        {
            name: '西宁',
            value: 86
        },
        {
            name: '成都',
            value: 120
        },

        {
            name: '银川',
            value: 70
        },
        {
            name: '呼和浩特',
            value: 86
        },
        {
            name: '呼和浩特右',
            value: 86
        },
        {
            name: '哈尔滨',
            value: 86
        },

        {
            name: '天津',
            value: 40
        },
        {
            name: '南宁',
            value: 120
        },
        {
            name: '太原',
            value: 40
        },
        {
            name: '澳门',
            value: 100
        },
        {
            name: '石家庄',
            value: 86
        },
        {
            name: '济南',
            value: 70
        },
        {
            name: '武汉',
            value: 86
        },
        {
            name: '长沙',
            value: 86
        },
        {
            name: '南昌',
            value: 60
        },
        {
            name: '南京',
            value: 70
        },
        {
            name: '上海',
            value: 140
        },
        {
            name: '福州',
            value: 86
        },

        {
            name: '香港',
            value: 140
        },
        {
            name: '广州',
            value: 50
        },
        {
            name: '北京',
            value: 120
        },

    ]
    var geoCoordMap = {
        '库尔勒': [86.06, 41.68],
        '拉萨': [87.852814, 32.027792],
        '西宁': [95.800446, 36.426903],
        '成都': [102.71783, 31.587876],
        '银川': [105.955754, 37.3138],
        '呼和浩特': [111.916478, 40.756366],
        '呼和浩特右': [118.024381, 42.740123],
        '哈尔滨': [127.002262, 46.623208],
        '北京': [116.479008, 40.137923],
        '天津': [117.288489, 39.228155],
        '太原': [112.358013, 37.665644],
        '石家庄': [115.522348, 35.889795],
        '济南': [118.833862, 36.605113],
        '武汉': [111.401354, 30.8288413],
        '长沙': [112.358013, 27.535879],
        '南昌': [115.301581, 27.601462],
        '南京': [119.643343, 31.902318],
        '上海': [121.556662, 31.145853],
        '福州': [119.128219, 26.811868],
        '南宁': [108.384197, 23.191126],
        '香港': [115.301581, 23.937347],
        '广州': [111.254175, 23.734258],
        '澳门': [110.591873, 21.617284]

    };

    var convertData = function(data) {
        var res = [];
        for (var i = 0; i < data.length; i++) {
            var geoCoord = geoCoordMap[data[i].name];
            if (geoCoord) {
                res.push({
                    name: data[i].name,
                    value: geoCoord.concat(data[i].value)
                });
            }
        }
        return res;
    };

    function randNum2(min, max, num) {
        if (num > max - min) {
            console.error('范围太小');
            return false;
        }
        var range = max - min,
            minV = min + 1, //实际上可以取的最小值
            arr = [],
            tmp = "";

        function GenerateANum(i) {
            for (i; i < num; i++) {
                var rand = Math.random(); //  rand >=0  && rand < 1
                tmp = Math.floor(rand * range + minV);
                if (arr.indexOf(tmp) == -1) {
                    arr.push(tmp)
                } else {
                    GenerateANum(i);
                    break;
                }

            }
        }
        GenerateANum(0); //默认从0开始
        return arr;
    }

    function getSeries(arrIndex) {

        if (!arrIndex) {
            var nums = randNum2(mapData.num[0], mapData.num[1], 1)[0]
            var len = data.length - 1
            arrIndex = randNum2(0, len, nums)
        }

        var tempArr = []
        arrIndex.forEach((item) => {
            tempArr.push(data[item])
        })
        return convertData(tempArr)
    }

    var option05 = {
        background: 'transparent',
        tooltip: {},
        geo: {
            map: 'china',
            label: {
                emphasis: {
                    show: false
                }
            },
            regions: [{
                name: '南海诸岛',
                value: 0,
                itemStyle: {
                    normal: {
                        opacity: 0,
                        label: {
                            show: false
                        }
                    }
                }
            }],
            roam: true,
            itemStyle: {
                normal: {
                    areaColor: mapData.mapColor,
                    borderColor: mapData.borderColor,
                    shadowColor: mapData.shadowColor,
                    shadowBlur: mapData.shadowBlur,
                },
                emphasis: {
                    areaColor: mapData.mapColor,
                }
            }
        },
        series: [{
            name: '',
            type: 'effectScatter',
            coordinateSystem: 'geo',
            data: getSeries([0, 1, 2, 3, 4, 5, 6, 7]),
            symbolSize: function(val) {
                return val[2] / 8;
            },
            showEffectOn: 'render',
            rippleEffect: {
                brushType: 'stroke',
                scale: 2, //设置缩放
                period: 5, //设置时间
            },
            hoverAnimation: true,
            itemStyle: {
                normal: {
                    color: 'rgba(255, 255, 255, .6)',
                    shadowBlur: 10,
                    shadowColor: 'rgba(255, 255, 255, .6)',
                }
            },
            zlevel: 1
        },
            {
                name: '',
                type: 'effectScatter',
                coordinateSystem: 'geo',
                data: getSeries([15, 14, 13, 12, 11, 10, 9, 8]),
                symbolSize: function(val) {
                    return val[2] / 8;
                },
                showEffectOn: 'render',
                rippleEffect: {
                    brushType: 'stroke',
                    scale: 3, //设置缩放
                    period: 3, //设置时间
                },
                hoverAnimation: true,
                itemStyle: {
                    normal: {
                        color: 'rgba(255, 255, 255, .8)',
                        shadowBlur: 10,
                        shadowColor: 'rgba(255, 255, 255, .8)',
                    }
                },
                zlevel: 2,
            },
            {
                name: '',
                type: 'effectScatter',
                coordinateSystem: 'geo',
                data: getSeries([22, 21, 20, 19, 18, 17, 16]),
                symbolSize: function(val) {
                    return val[2] / 8;
                },
                showEffectOn: 'render',
                rippleEffect: {
                    brushType: 'stroke',
                    scale: 3, //设置缩放
                    period: 2, //设置时间
                },
                hoverAnimation: true,
                itemStyle: {
                    normal: {
                        color: 'rgba(255, 255, 255, 1)',
                        shadowBlur: 10,
                        shadowColor: '#fff'
                    }
                },
                zlevel: 2,
            }
        ],
        animationDelayUpdate: function(idx) {
            return idx * 30;
        }
    }
    myChart05.setOption(option05);



    //热门岗位
    var myChart03 = echarts.init(document.getElementById('main03'));
    var option03 = {
        title: {
            text: '热门岗位',
            textStyle: {//主标题文本样式{"fontSize": 18,"fontWeight": "bolder","color": "#333"}
                fontSize: 15,
                fontWeight: 'normal',
                color:"#d9b956"
            }
        },
        tooltip: {},
        legend: {
            data:['']
        },
        xAxis: {
            //去除x轴上的刻度线
            axisTick: {
                show: false
            },
            axisLine:{
                //改变x轴的颜色
                lineStyle:{
                    color:'#3b4b6f'
                }
            },
            axisLabel:{
                interval:0,//x横轴信息全部显示
                //改变x轴的字体颜色
                textStyle:{
                    color:"#c5c7d4",
                    fontSize:10
                }
            },
            data: ["软件工程师","销售助理","客服助理","行政助理","实习生"]
        },
        yAxis: {
            // splitNumber: 6,
            axisLabel:{
                textStyle:{
                    color:"#c5c7d4",
                    verticalAlign: "top"
                }
            },
            //控制Y轴是否显示
            axisLine: {
                show: false,
            },
            // 控制网格线是否显示
            splitLine:{
                show: true,
                lineStyle: {
                    // 使用深浅的间隔色
                    color: ['#3c4a77']
                }
            },
            //去除y轴上的刻度线
            axisTick: {
                show: false
            },
            data: ["0","20%","40%","60%","80%","100%"]
        },
        series: [
            {
                name: '销量',
                type: 'bar',
                barWidth : 10, //柱子的宽度
                // 柱子的颜色
                itemStyle : { normal:{color:'#3b4fb2'}},
                data: [3, 2, 0, 1, 0],
                barGap:"1" //调节柱子之间的间隔
            },
            {
                name: '销量',
                type: 'line',
                symbol: 'none', //去掉折线的圆点
                smooth:true,  //让曲线变平滑
                // 柱子的颜色
                itemStyle : { normal:{color:'#c1a93d'}},
                data: [0, 1, 0, 2,0],
                barGap:"1" //调节柱子之间的间隔
            }
        ]
    };
    myChart03.setOption(option03);



    //气泡图
    var myChart04 = echarts.init(document.getElementById('main04'));
    var plantCap = [{
        name: '深圳',
        value: '6.8%'
    }, {
        name: '揭阳',
        value: '4.8%'
    }, {
        name: '广州',
        value: '54%'
    }, {
        name: '珠海',
        value: '5.4%'
    }, {
        name: '汕头',
        value: '3.6%'
    }, {
        name: '惠州',
        value: '3.8%'
    }];

    var datalist = [{
        offset: [4, 70],
        symbolSize: 88,
        opacity: .95,
        color: '#0b1341'
    }, {
        offset: [6, 32],
        symbolSize: 83,
        opacity: .82,
        color: '#0b1341'
    }, {
        offset: [37, 48],
        symbolSize: 112,
        opacity: .84,
        color: '#0b1341'
    }, {
        offset: [65, 69],
        symbolSize: 86,
        opacity: .8,
        color: '#0b1341'
    }, {
        offset: [94, 75],
        symbolSize: 79,
        opacity: .75,
        color: '#0b1341'
    }, {
        offset: [86, 34],
        symbolSize: 81,
        opacity: .7,
        color: '#0b1341'
    }];
    var datas = [];
    for (var i = 0; i < plantCap.length; i++) {
        var item = plantCap[i];
        var itemToStyle = datalist[i];
        datas.push({
            name: item.value + '\n' + item.name,
            value: itemToStyle.offset,
            symbolSize: itemToStyle.symbolSize,
            label: {
                normal: {
                    textStyle: {
                        fontSize: 11
                    }
                }
            },
            itemStyle: {
                normal: {
                    color: itemToStyle.color,
                    opacity: itemToStyle.opacity
                }
            },
        })
    }
    var option04 = {
        title: {
            "text": "主要城市",
            "textStyle": {
                "color": "#d9b956",
                "fontSize":15,
                "fontWeight":'normal'
            }
        },
        grid: {
            show: false,
            top: 10,
            bottom: 10
        },
        xAxis: [{
            gridIndex: 0,
            type: 'value',
            show: false,
            min: 0,
            max: 100,
            nameLocation: 'middle',
            nameGap: 5
        }],
        yAxis: [{
            gridIndex: 0,
            min: 0,
            show: false,
            max: 100,
            nameLocation: 'middle',
            nameGap: 30
        }],
        series: [{
            type: 'scatter',
            symbol: 'circle',
            symbolSize: 120,
            label: {
                normal: {
                    show: true,
                    formatter: '{b}',
                    color: '#cdd3e1',
                    textStyle: {
                        fontSize: '20'
                    }
                },
            },
            itemStyle: {
                normal: {
                    color: '#00acea'
                }
            },
            data: datas
        }]
    };
    myChart04.setOption(option04);

</script>